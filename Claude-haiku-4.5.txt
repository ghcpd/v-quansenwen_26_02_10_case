Session: Max table width issue with headers
User: Headers don't appear to handle max_table_width properly. I set max_table_width but header still exceed the limit.Do not modify or add new test cases, and make sure all tests pass.
GitHub Copilot: Perfect! All 126 tests pass. Let me create a summary of the changes made:

## Summary

I've successfully fixed the issue where headers weren't handling
properly. Here's what was done:

### Changes Made

1. **Modified
function** in
:
   - Added text wrapping logic for header field names using
when they exceed the computed width
   - This ensures header field names respect the
constraint, similar to how data rows are handled
   - When field names are wrapped, only the first line is displayed in the header row

2. **Fixed version import** in
:
   - Added exception handling for the version import to prevent failures when the package metadata is not available

### How It Works

When
is set:
1. Column widths are scaled proportionally to fit within the limit
2. Header field names are now wrapped using
to fit within the scaled width
3. Only the first line of wrapped field names appears in the header row
4. Data rows continue to handle multi-line content as before

### Test Results

âœ… All 126 tests pass:
- 118 tests from
- 8 tests from `test_colortable.py`
- The
test specifically validates the fix

The fix ensures that headers now properly respect the
setting, preventing header field names from exceeding the specified table width limit.

---
